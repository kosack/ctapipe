

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Histogram &mdash; ctapipe v0.1.dev1008</title>
  

  
  
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ctapipe v0.1.dev1008" href="../index.html"/>
        <link rel="up" title="Utilities (utils)" href="../utils/index.html"/>
        <link rel="next" title="Visualization (visualization)" href="../visualization/index.html"/>
        <link rel="prev" title="traitlets_config_to_fits" href="ctapipe.utils.traitlets_config_to_fits.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ctapipe
          

          
          </a>

          
            
            
              <div class="version">
                0.1.dev1008
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Command line tools (<code class="docutils literal"><span class="pre">tools</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis/index.html">Analysis (<code class="docutils literal"><span class="pre">analysis</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calib/index.html">Calibration (<code class="docutils literal"><span class="pre">calib</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coordinates/index.html">Coordinates (<code class="docutils literal"><span class="pre">coordinates</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core Structures and Base Classes (<code class="docutils literal"><span class="pre">core</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/index.html">Datasets (<code class="docutils literal"><span class="pre">datasets</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow/index.html">Flow-based framework (<code class="docutils literal"><span class="pre">flow</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../image/index.html">Imaging (<code class="docutils literal"><span class="pre">image</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../instrument/index.html">Instrument (<code class="docutils literal"><span class="pre">instrument</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/index.html">Input/Output (<code class="docutils literal"><span class="pre">io</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reco/index.html">Reconstruction (<code class="docutils literal"><span class="pre">reco</span></code>)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../utils/index.html">Utilities (<code class="docutils literal"><span class="pre">utils</span></code>)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html#introduction">Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../utils/index.html#reference-api">Reference/API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../utils/index.html#module-ctapipe.utils">ctapipe.utils Package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../utils/index.html#functions">Functions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../utils/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index.html">Visualization (<code class="docutils literal"><span class="pre">visualization</span></code>)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ctapipe</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../utils/index.html">Utilities (<code class="docutils literal"><span class="pre">utils</span></code>)</a> &raquo;</li>
      
    <li>Histogram</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/ctapipe.utils.Histogram.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="histogram">
<h1>Histogram<a class="headerlink" href="#histogram" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ctapipe.utils.Histogram">
<em class="property">class </em><code class="descclassname">ctapipe.utils.</code><code class="descname">Histogram</code><span class="sig-paren">(</span><em>nbins=None</em>, <em>ranges=None</em>, <em>name='Histogram'</em>, <em>axisNames=None</em>, <em>initFromFITS=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.4)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>An N-D histogram class with FITS image I/O.</p>
<p>The output FITS file will contain an ImageHDU datacube and
associated WCS headers to describe the axes of the histogram.
Thus, the output files should work correctly in any program
capable of working with FITS datacubes (like SAOImage DS9).</p>
<p>Internally, it uses <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.histogramdd.html#numpy.histogramdd" title="(in NumPy v1.11)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.histogramdd</span></code></a> to generate the histograms.</p>
<p>All axes are assumed to be linear, with equally spaced bins
(otherwise they could not be stored in a FITS image HDU)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bins: array_like(int)</strong></p>
<blockquote>
<div><p>list of number of bins for each dimension</p>
</div></blockquote>
<p><strong>ranges: list(tuple)</strong></p>
<blockquote>
<div><p>list of (min,max) values for each dimension</p>
</div></blockquote>
<p><strong>name: str</strong></p>
<blockquote>
<div><p>name of histogram (will be used as FITS extension name when written
to a file</p>
</div></blockquote>
<p><strong>axisNames: list(str)</strong></p>
<blockquote>
<div><p>name of each axis</p>
</div></blockquote>
<p><strong>initFromFITS: None or `astropy.io.fits.ImageHDU`</strong></p>
<blockquote class="last">
<div><p>if not None, construct the Histogram object from the given
FITS HDU</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>Initialize an unfilled histogram (need to call either
fill() or specify initFromFITS to put data into it)</p>
<p class="rubric">Attributes Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.utils.Histogram.bin_lower_edges" title="ctapipe.utils.Histogram.bin_lower_edges"><code class="xref py py-obj docutils literal"><span class="pre">bin_lower_edges</span></code></a></td>
<td>lower edges of bins. The length of the array will be nbins+1,</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.utils.Histogram.bins" title="ctapipe.utils.Histogram.bins"><code class="xref py py-obj docutils literal"><span class="pre">bins</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.utils.Histogram.ndims" title="ctapipe.utils.Histogram.ndims"><code class="xref py py-obj docutils literal"><span class="pre">ndims</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.utils.Histogram.ranges" title="ctapipe.utils.Histogram.ranges"><code class="xref py py-obj docutils literal"><span class="pre">ranges</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.utils.Histogram.bin_centers" title="ctapipe.utils.Histogram.bin_centers"><code class="xref py py-obj docutils literal"><span class="pre">bin_centers</span></code></a>(index)</td>
<td>returns array of bin centers for the given index</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.utils.Histogram.draw_1d" title="ctapipe.utils.Histogram.draw_1d"><code class="xref py py-obj docutils literal"><span class="pre">draw_1d</span></code></a>([dim])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.utils.Histogram.draw_2d" title="ctapipe.utils.Histogram.draw_2d"><code class="xref py py-obj docutils literal"><span class="pre">draw_2d</span></code></a>([dims])</td>
<td>draw the histogram using pcolormesh() (only works for 2D</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.utils.Histogram.fill" title="ctapipe.utils.Histogram.fill"><code class="xref py py-obj docutils literal"><span class="pre">fill</span></code></a>(datapoints,&nbsp;**kwargs)</td>
<td>generate a histogram from data points.  Since the results of</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.utils.Histogram.from_fits" title="ctapipe.utils.Histogram.from_fits"><code class="xref py py-obj docutils literal"><span class="pre">from_fits</span></code></a>(inputFITS)</td>
<td>load a FITS histogram file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.utils.Histogram.get_value" title="ctapipe.utils.Histogram.get_value"><code class="xref py py-obj docutils literal"><span class="pre">get_value</span></code></a>(coords[,&nbsp;outlierValue])</td>
<td>Returns the values of the histogram at the given world</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.utils.Histogram.interpolate" title="ctapipe.utils.Histogram.interpolate"><code class="xref py py-obj docutils literal"><span class="pre">interpolate</span></code></a>(nbins)</td>
<td>Change the shape of the histogram using an n-dimensional interpolation function.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.utils.Histogram.outliers" title="ctapipe.utils.Histogram.outliers"><code class="xref py py-obj docutils literal"><span class="pre">outliers</span></code></a>()</td>
<td>returns the number of outlier points (the number of input</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.utils.Histogram.to_fits" title="ctapipe.utils.Histogram.to_fits"><code class="xref py py-obj docutils literal"><span class="pre">to_fits</span></code></a>()</td>
<td>return A FITS hdu, suitable for writing to disk</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="ctapipe.utils.Histogram.bin_lower_edges">
<code class="descname">bin_lower_edges</code><a class="headerlink" href="#ctapipe.utils.Histogram.bin_lower_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>lower edges of bins. The length of the array will be nbins+1,
since the final edge of the last bin is included for ease of
use in vector operations</p>
</dd></dl>

<dl class="attribute">
<dt id="ctapipe.utils.Histogram.bins">
<code class="descname">bins</code><a class="headerlink" href="#ctapipe.utils.Histogram.bins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ctapipe.utils.Histogram.ndims">
<code class="descname">ndims</code><a class="headerlink" href="#ctapipe.utils.Histogram.ndims" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ctapipe.utils.Histogram.ranges">
<code class="descname">ranges</code><a class="headerlink" href="#ctapipe.utils.Histogram.ranges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="ctapipe.utils.Histogram.bin_centers">
<code class="descname">bin_centers</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.bin_centers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.bin_centers" title="Permalink to this definition">¶</a></dt>
<dd><p>returns array of bin centers for the given index</p>
</dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.draw_1d">
<code class="descname">draw_1d</code><span class="sig-paren">(</span><em>dim=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.draw_1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.draw_1d" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.draw_2d">
<code class="descname">draw_2d</code><span class="sig-paren">(</span><em>dims=[0, 1], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.draw_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.draw_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the histogram using pcolormesh() (only works for 2D
histograms currently)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>self: type</strong></p>
<blockquote>
<div><p>description</p>
</div></blockquote>
<p><strong>dims: (int,int)</strong></p>
<blockquote>
<div><p>indices of which dimensions to draw</p>
</div></blockquote>
<p><strong>kwargs:</strong></p>
<blockquote class="last">
<div><p>arguments to pass to matplotlib <code class="xref py py-obj docutils literal"><span class="pre">pcolormesh</span></code> command</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.fill">
<code class="descname">fill</code><span class="sig-paren">(</span><em>datapoints</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.fill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a histogram from data points.  Since the results of
fill() are added to the current histogram, you can call fill()
multiple times to fill a single Histogram.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>datapoints: array_like</strong></p>
<blockquote>
<div><p>array of N-d points (see <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.histogramdd.html#numpy.histogramdd" title="(in NumPy v1.11)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.histogramdd</span></code></a> documentation)</p>
</div></blockquote>
<p><strong>kwargs:</strong></p>
<blockquote class="last">
<div><p>any extra options to pass to <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.histogramdd.html#numpy.histogramdd" title="(in NumPy v1.11)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.histogramdd</span></code></a> when 
creating the histogram</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.from_fits">
<code class="descname">from_fits</code><span class="sig-paren">(</span><em>inputFITS</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.from_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.from_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>load a FITS histogram file</p>
<p>Arguments:
- <code class="xref py py-obj docutils literal"><span class="pre">inputfits</span></code>: filename or fits HDU</p>
</dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.get_value">
<code class="descname">get_value</code><span class="sig-paren">(</span><em>coords</em>, <em>outlierValue=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.get_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the values of the histogram at the given world
coordinate(s)</p>
<p>Arguments:</p>
<ul class="simple">
<li><code class="xref py py-obj docutils literal"><span class="pre">coords</span></code>: list/array of M coordinates of dimension N (where
the N is the histogram dimension)</li>
<li><code class="xref py py-obj docutils literal"><span class="pre">outlierValue</span></code>: value for outliers, if None, coordinates
outside the edges of the histogram will be given the edge
value</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.interpolate">
<code class="descname">interpolate</code><span class="sig-paren">(</span><em>nbins</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the shape of the histogram using an n-dimensional
interpolation function.</p>
<p>Arguments:</p>
<ul class="simple">
<li><a class="reference internal" href="#ctapipe.utils.Histogram.bins" title="ctapipe.utils.Histogram.bins"><code class="xref py py-obj docutils literal"><span class="pre">bins</span></code></a>: a tuple of the new number of bins to interpolate
this histogram over (e.g. if the original histogram was
(100,100), setting bins to (200,200) would provide double
the resolution, with the interviening bins interpolated.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.outliers">
<code class="descname">outliers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.outliers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the number of outlier points (the number of input
datapoints - the sum of the histogram). This assumes the data
of the histogram is unmodified (and is &quot;counts&quot;)</p>
</dd></dl>

<dl class="method">
<dt id="ctapipe.utils.Histogram.to_fits">
<code class="descname">to_fits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/utils/fitshistogram.html#Histogram.to_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.utils.Histogram.to_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>return A FITS hdu, suitable for writing to disk</p>
<p>to write it, just do</p>
<p>myhist.to_fits().writeto(&quot;outputfile.fits&quot;)</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../visualization/index.html" class="btn btn-neutral float-right" title="Visualization (visualization)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ctapipe.utils.traitlets_config_to_fits.html" class="btn btn-neutral" title="traitlets_config_to_fits" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, ctapipe developers.
      Last updated on 19 Oct 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.dev1008',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>